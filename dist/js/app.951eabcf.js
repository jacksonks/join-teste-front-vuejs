(function(t){function e(e){for(var a,i,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"00dc":function(t,e,s){"use strict";s("cbbe")},"3c70":function(t,e,s){t.exports=s.p+"img/logo-blue.cffe85df.png"},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),n=s("7496"),o=s("40dc"),i=s("8336"),r=s("b0af"),l=s("99d9"),c=s("62ad"),d=s("a523"),u=s("132d"),p=s("adda"),h=s("f6c4"),_=s("0fd9"),f=s("2fa4"),g=function(){var t=this,e=t._self._c;return e(n["a"],[e(o["a"],{attrs:{app:"",color:"cyan lighten-1",dark:""}},[e("div",[e(p["a"],{attrs:{alt:"Join White Logo",contain:"",src:"https://jointecnologia.com.br/wp-content/themes/theme-bones-master/library/images/logo.png",width:"125"}})],1),e(f["a"]),e(i["a"],{attrs:{href:"https://github.com/jacksonks/join-teste-front-vuejs",target:"_blank",text:""}},[e("span",{staticClass:"mr-2"},[t._v("Github")]),e(u["a"],[t._v("code")])],1)],1),e(h["a"],[e("filters",{on:{stations:t.getStations,types:t.getTypes}}),e(r["a"],[e("div",{attrs:{id:"map"}})])],1),e(r["a"],{staticClass:"text-center popup-container",attrs:{width:"500"}},[e(l["c"],{staticClass:"headline grey lighten-2"},[t._v("Dados da Estação")]),e(l["b"],{staticClass:"popup-container"},[e(d["a"],{staticClass:"popup-container",attrs:{fluid:""}},[e(_["a"],{staticClass:"popup-container mb-n7",attrs:{align:"center"}},[e(c["a"],{staticClass:"d-flex",attrs:{cols:"12"}},[e(i["a"],{attrs:{outlined:"",color:"black"}},[e("label",[t._v("Identificador: ")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-id"}}),e("br")]),e(f["a"]),e(i["a"],{attrs:{outlined:"",color:"black"}},[e("label",[t._v("Nome: ")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-name"}})])],1),e(c["a"],{staticClass:"d-flex",attrs:{cols:"12"}},[e(i["a"],{attrs:{outlined:"",color:"black",block:""}},[e("label",[t._v("Latitude:")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-latitude"}})])],1),e(c["a"],{staticClass:"d-flex",attrs:{cols:"12"}},[e(i["a"],{attrs:{outlined:"",color:"black",block:""}},[e("label",[t._v("Longitude:")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-longitude"}})])],1),e(c["a"],{staticClass:"d-flex",attrs:{cols:"12"}},[e(i["a"],{attrs:{outlined:"",color:"black"}},[e("label",[t._v("Elevação:")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-elevation"}})]),e(f["a"]),e(i["a"],{attrs:{outlined:"",color:"black"}},[e("label",[t._v("Tipo de Estação:")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-type"}})])],1),e(c["a"],{staticClass:"d-flex",attrs:{cols:"12"}},[e(i["a"],{attrs:{outlined:"",color:"black",block:""}},[e("label",[t._v("Inicio de Operação:")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-start"}})])],1),e(c["a"],{staticClass:"d-flex",attrs:{cols:"12"}},[e(i["a"],{attrs:{outlined:"",color:"black",block:""}},[e("label",[t._v("Fim de Operação:")]),e("strong",{staticClass:"overlay-text",attrs:{id:"feature-end"}})])],1)],1)],1)],1)],1)],1)},y=[],m=(s("5bc0"),s("a2e1")),b=s("5eee"),v=s("a2c7"),k=s("21bc"),x=s("9d47"),w=s("3e6b"),j=s("480c"),S=s("5831"),T=s("d0e9"),O=s("6cbf"),C=s("6c77"),L=s("0710"),I=s("cc20"),E=s("ce7e"),M=s("da13"),P=s("1800"),J=s("5d23"),F=s("b974"),H=s("3a2f"),B=function(){var t=this,e=t._self._c;return e(d["a"],{attrs:{fluid:""}},[e(_["a"],{staticClass:"text-center"},[e(c["a"],{attrs:{xs:"12",sm:"6",md:"6"}},[e(d["a"],{attrs:{fluid:""}},[e(_["a"],{staticClass:"text-center"},[e(c["a"],{attrs:{cols:"12"}},[e(p["a"],{staticClass:"my-3",attrs:{alt:"Join Blue Logo",src:s("3c70"),contain:"",height:"100"}})],1),e(c["a"],{staticClass:"mb-4"},[e("h1",{staticClass:"display-1 font-weight-bold mb-3"},[t._v("Mapa para Visualização de Localização de Estações")]),e("p",{staticClass:"subheading font-weight-bold"},[t._v("Desenvolvido com "),e("a",{attrs:{href:"https://vuejs.org/",target:"_blank"}},[t._v("VueJS")]),t._v(", "),e("a",{attrs:{href:"https://vuetifyjs.com/en/",target:"_blank"}},[t._v("Vuetify")]),t._v(", e "),e("a",{attrs:{href:"https://openlayers.org/",target:"_blank"}},[t._v("OpenLayers")]),t._v(", por "),e("a",{attrs:{href:"https://www.linkedin.com/in/jackson-kelvin/",target:"_blank"}},[t._v("Jackson Kelvin de Souza")]),t._v(". ")])])],1)],1)],1),e(c["a"],{attrs:{xs:"12",sm:"6",md:"6"}},[e(d["a"],{attrs:{fluid:""}},[e(_["a"],[e(r["a"],{attrs:{width:"600"}},[e(l["c"],{staticClass:"headline grey lighten-2"},[t._v(" Filtros "),e(f["a"]),e(H["a"],{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(i["a"],t._g(t._b({attrs:{text:"",fab:""},on:{click:function(e){t.expand=!t.expand}}},"v-btn",a,!1),s),[!0===t.expand?e(u["a"],{attrs:{large:""}},[t._v("compress")]):e(u["a"],{attrs:{large:""}},[t._v("expand")])],1)]}}])},[!0===t.expand?e("strong",[t._v("Esconder Filtros")]):e("strong",[t._v("Mostrar Filtros")])])],1),e(l["b"],{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}]},[e("br"),e(F["a"],{attrs:{items:t.station_type_list,"return-object":"","item-text":"name",label:"Tipos de Estações",multiple:"",outlined:"",chips:"",clearable:"","persistent-hint":"",hint:t.stations_types_selected.length+" Opções Selecionadas"},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[e(M["a"],{attrs:{ripple:""},on:{click:t.change}},[e(P["a"],[e(u["a"],{attrs:{color:"indigo darken-4"}},[t._v(t._s(t.iconTypes))])],1),e(J["a"],[e(J["b"],[t._v(" Selecionar Todos ")])],1)],1),e(E["a"])]},proxy:!0},{key:"selection",fn:function(s){return[e(I["a"],t._b({key:JSON.stringify(s.item),attrs:{"input-value":s.selected,disabled:s.disabled},on:{"click:close":function(t){return s.parent.selectItem(s.item)}}},"v-chip",s.attrs,!1),[t._v(" "+t._s(s.item.name)+" ")])]}}]),model:{value:t.stations_types_selected,callback:function(e){t.stations_types_selected=e},expression:"stations_types_selected"}}),e(F["a"],{attrs:{items:t.stations,"return-object":"","item-key":"id","item-text":"name",label:"Estações",multiple:"",outlined:"",chips:"",clearable:"",disabled:!t.stations_types_selected.length>0,"hide-details":!t.stations_types_selected.length>0,"persistent-hint":t.stations_types_selected.length>0,hint:t.stations_selected.length+" Opções Selecionadas"},scopedSlots:t._u([{key:"no-data",fn:function(){return[e(M["a"],[e("strong",{staticStyle:{color:"red"}},[t._v("*Sem Estações do Tipo Selecionado")])])]},proxy:!0},{key:"prepend-item",fn:function(){return[e(M["a"],{attrs:{ripple:""},on:{click:t.toggle}},[e(P["a"],[e(u["a"],{attrs:{color:"indigo darken-4"}},[t._v(t._s(t.iconStations))])],1),e(J["a"],[e(J["b"],[t._v(" Selecionar Todos ")])],1)],1),e(E["a"])]},proxy:!0},{key:"selection",fn:function(s){return[e(I["a"],t._b({key:JSON.stringify(s.item),attrs:{"input-value":s.selected,disabled:s.disabled},on:{"click:close":function(t){return s.parent.selectItem(s.item)}}},"v-chip",s.attrs,!1),[t._v(" "+t._s(s.item.name)+" ")])]}}]),model:{value:t.stations_selected,callback:function(e){t.stations_selected=e},expression:"stations_selected"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.stations_types_selected.length>0,expression:"!stations_types_selected.length > 0"}],staticStyle:{color:"red"}},[t._v("*selecione pelo menos 1 tipo de estação para desbloquear o seletor de estações")])],1),e(E["a"]),e(l["a"],[e(f["a"]),e(i["a"],{attrs:{color:"primary"},on:{click:t.consulting}},[t._v("Consultar"),e(u["a"],{attrs:{right:""}},[t._v("search")])],1),e(f["a"])],1)],1)],1)],1)],1)],1)],1)},G=[],N=(s("14d9"),{data:()=>({station_list:[],station_type_list:[],stations_types_selected:[],stations_selected:[],expand:!0,geojson:void 0}),created(){this.fetchStation(),this.fetchStationType(),this.fetchFeatures()},computed:{stations(){let t=[];if(0!==this.stations_types_selected.length){for(let e in this.stations_types_selected){let s=this.station_list.filter(t=>t.station_type_id===this.stations_types_selected[e].id);for(let e in s)t.push(s[e])}return t}return[]},allTypes(){return this.stations_types_selected.length===this.station_type_list.length},someTypes(){return this.stations_types_selected.length>0&&this.stations_types_selected.length<this.station_type_list.length},emptyTypes(){return 0===this.stations_types_selected.length},allStations(){return this.stations_selected.length===this.stations.length},someStations(){return this.stations_selected.length>0&&this.stations_selected.length<this.stations.length},emptyStations(){return 0===this.stations_selected.length},iconStations(){return this.allStations?"disabled_by_default":this.someStations?"indeterminate_check_box":this.emptyStations?"check_box_outline_blank":void 0},iconTypes(){return this.allTypes?"disabled_by_default":this.someTypes?"indeterminate_check_box":this.emptyTypes?"check_box_outline_blank":void 0}},methods:{change(){this.$nextTick(()=>{this.allTypes||this.someTypes?this.stations_types_selected=[]:this.emptyTypes&&(this.stations_types_selected=this.station_type_list.slice())})},toggle(){this.$nextTick(()=>{this.allStations||this.someStations?this.stations_selected=[]:this.emptyStations&&(this.stations_selected=this.stations.slice())})},fetchFeatures(){fetch("https://raw.githubusercontent.com/jacksonks/geojson/master/station_list.geojson").then(t=>t.json()).then(t=>{this.geojson=t}).catch(t=>{console.log("Looks like there was a problem: \n",t)})},fetchStation(){fetch("https://raw.githubusercontent.com/jacksonks/geojson/master/station.json").then(t=>t.json()).then(t=>{this.station_list=t.station}).catch(t=>{console.log("Looks like there was a problem: \n",t)})},fetchStationType(){fetch("https://raw.githubusercontent.com/jacksonks/geojson/master/station_type.json").then(t=>t.json()).then(t=>{this.station_type_list=t.station_type}).catch(t=>{console.log("Looks like there was a problem: \n",t)})},consulting(){let t=[];for(let e in this.geojson.features)for(let s in this.stations_selected)this.geojson.features[e].properties.id===this.stations_selected[s].id&&t.push(this.geojson.features[e]);this.geojson.features=t,this.$emit("stations",this.geojson),this.$emit("types",this.stations_types_selected)}}}),A=N,R=s("2877"),$=Object(R["a"])(A,B,G,!1,null,null,null),z=$.exports,D={name:"App",components:{Filters:z},data:()=>({station_type_id:void 0,dialog:!1,types:void 0,stations:void 0,vectorGeoJSON:new w["a"],source:new S["a"]({format:new m["a"],url:"https://raw.githubusercontent.com/jacksonks/geojson/master/station_list.geojson"})}),async mounted(){await this.initiateMap()},computed:{},watch:{},methods:{async getTypes(t){this.types=t},async getStations(t){this.stations=t,t.features.length>0&&t.features.length<125?(this.source.clear(),this.source.addFeatures((new m["a"]).readFeatures(t))):125===t.features.length?this.source.refresh():0===t.features.length&&this.source.clear()},initiateMap(){new O["a"]({scale:1,color:"red",src:s("7fb4")});var t=new S["a"],e=new w["a"]({source:t}),a=new j["a"]({source:new T["a"]});this.vectorGeoJSON=new w["a"]({source:this.source,style:function(t,e){return console.log(t.getProperties()),[new C["b"]({image:new O["a"]({scale:.9,color:"1"==t.get("station_type_id")?"#7cb5ec":"2"==t.get("station_type_id")?"#434348":"3"==t.get("station_type_id")?"#90ed7d":"4"==t.get("station_type_id")?"#f7a35c":"#8085e9",src:s("7fb4")})})]}});var n=new b["a"]({controls:Object(k["a"])().extend([new x["a"]({units:"degrees"})]),target:"map",layers:[a,e,this.vectorGeoJSON],view:new v["a"]({projection:"EPSG:4326",center:[-51.815011395380765,-24.650150016322684],zoom:7})}),o=document.querySelector(".popup-container"),i=new L["a"]({element:o});n.addOverlay(i);let r=[{id:"1",created_at:"2020-11-30 10:43:46.687141-03",update_at:"2020-11-30 10:43:46.687162-03",name:"AGROMETEOROLOGICAL",color:"#7cb5ec"},{id:"2",created_at:"2020-11-30 10:43:46.688442-03",update_at:"2020-11-30 10:43:46.688459-03",name:"CLIMATOLÓGICO",color:"#434348"},{id:"3",created_at:"2020-11-30 10:43:46.68895-03",update_at:"2020-11-30 10:43:46.688964-03",name:"HIDROCLIMATOLÓGICO",color:"#90ed7d"},{id:"4",created_at:"2020-11-30 10:43:46.689495-03",update_at:"2020-11-30 10:43:46.689513-03",name:"HIDROMÉTRICO",color:"#f7a35c"},{id:"5",created_at:"2020-11-30 10:43:46.690113-03",update_at:"2020-11-30 10:43:46.690134-03",name:"PLUVIOMETRIC",color:"#8085e9"}];var l=document.getElementById("feature-id"),c=document.getElementById("feature-name"),d=document.getElementById("feature-latitude"),u=document.getElementById("feature-longitude"),p=document.getElementById("feature-elevation"),h=document.getElementById("feature-type"),_=document.getElementById("feature-start"),f=document.getElementById("feature-end");n.on("click",(function(t){i.setPosition(void 0),n.forEachFeatureAtPixel(t.pixel,(function(e,s){i.setPosition(t.coordinate),l.innerHTML=e.get("id"),c.innerHTML=e.get("name"),d.innerHTML=e.get("latitude"),u.innerHTML=e.get("longitude"),p.innerHTML=e.get("elevation_meters"),_.innerHTML=e.get("operation_start_date"),f.innerHTML=e.get("operation_end_date");for(let t in r)e.get("station_type_id")==r[t].id&&(h.innerHTML=r[t].name)}))}))}}},V=D,q=(s("00dc"),Object(R["a"])(V,g,y,!1,null,null,null)),K=q.exports,U=s("f309");a["a"].use(U["a"]);var W=new U["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:W,render:t=>t(K)}).$mount("#app")},"7fb4":function(t,e,s){t.exports=s.p+"img/location_on-white-48dp.2d4a2979.svg"},cbbe:function(t,e,s){}});
//# sourceMappingURL=app.951eabcf.js.map